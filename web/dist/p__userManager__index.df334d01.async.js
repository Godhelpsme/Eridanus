"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[258],{70658:function(Pe,A,n){n.r(A);var z=n(13769),k=n.n(z),G=n(5574),Z=n.n(G),Y=n(15009),u=n.n(Y),H=n(97857),f=n.n(H),J=n(99289),h=n.n(J),N=n(246),Q=n(2236),U=n(37476),o=n(5966),X=n(20040),q=n(90672),m=n(2453),ee=n(4393),W=n(83622),re=n(17788),v=n(67294),I=n(2618),ae=n(73049),e=n(85893),ne=["current","pageSize"],te=function(){var D=h()(u()().mark(function c(d){var i;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,I.cn)(f()({},d));case 3:return i=r.sent,i.message?m.ZP.success(i.message):m.ZP.error(i.error),r.abrupt("return",!0);case 8:return r.prev=8,r.t0=r.catch(0),m.ZP.error("\u7F51\u7EDC\u9519\u8BEF"),r.abrupt("return",!1);case 12:case"end":return r.stop()}},c,null,[[0,8]])}));return function(d){return D.apply(this,arguments)}}(),se=function(){var D=h()(u()().mark(function c(d){var i;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,I.ps)(f()({},d));case 3:return i=r.sent,i.message?m.ZP.success(i.message):m.ZP.error(i.error),r.abrupt("return",!0);case 8:return r.prev=8,r.t0=r.catch(0),m.ZP.error("\u7F51\u7EDC\u9519\u8BEF"),r.abrupt("return",!1);case 12:case"end":return r.stop()}},c,null,[[0,8]])}));return function(d){return D.apply(this,arguments)}}(),me=null,ue=function(){var c=(0,v.useState)(!1),d=Z()(c,2),i=d[0],g=d[1],r=(0,v.useState)(!1),j=Z()(r,2),Ee=j[0],fe=j[1],_e=(0,v.useState)(!1),y=Z()(_e,2),le=y[0],B=y[1],ie=(0,v.useState)(!1),w=Z()(ie,2),oe=w[0],O=w[1],b=(0,v.useRef)(null),de=(0,v.useState)(),S=Z()(de,2),s=S[0],C=S[1],ce=(0,v.useState)([]),K=Z()(ce,2),x=K[0],pe=K[1],F=[{title:"\u7528\u6237id",dataIndex:"user_id",sorter:!0},{title:"\u6635\u79F0",dataIndex:"nickname",valueType:"textarea",search:!1},{title:"\u5361\u7247",dataIndex:"card",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u6027\u522B",dataIndex:"sex",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u5E74\u9F84",dataIndex:"age",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u57CE\u5E02",dataIndex:"city",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u6743\u9650\u7B49\u7EA7",dataIndex:"permission",sorter:!0,search:!1},{title:"\u6CE8\u518C\u65E5\u671F",dataIndex:"registration_date",valueType:"textarea",search:!1,hideInTable:!0},{title:"token\u7EDF\u8BA1",dataIndex:"ai_token_record",sorter:!0,search:!1},{title:"\u753B\u50CF\u66F4\u65B0\u65F6\u95F4",dataIndex:"portrait_update_time",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u7528\u6237\u753B\u50CF",dataIndex:"user_portrait",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(t,a){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("a",{onClick:function(){C(a),B(!0)},children:"\u8BE6\u7EC6\u4FE1\u606F"}),"\xA0\xA0\xA0\xA0",(0,e.jsx)("a",{onClick:function(){C(a),O(!0)},children:"\u7F16\u8F91"})]})}}];return(0,e.jsx)(ae.Z,{delay:100,type:"bottom",children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(N.Z,{actionRef:b,rowKey:"user_id",request:function(){var _=h()(u()().mark(function t(a,l,p){var P,E,$,M,T,R,V;return u()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return P=a.current,E=a.pageSize,$=k()(a,ne),M="",T="",l&&(R=Object.keys(l),R.length>0&&(M=R[0],T=l[M]==="ascend"?"asc":"desc")),L.next=6,(0,I.lE)(f()(f()(f()({current:P,pageSize:E},$),p),{},{sortBy:M,sortOrder:T}));case 6:return V=L.sent,L.abrupt("return",V);case 8:case"end":return L.stop()}},t)}));return function(t,a,l){return _.apply(this,arguments)}}(),columns:F,pagination:{position:["topLeft","bottomRight"]},rowSelection:{onChange:function(t,a){pe(a)}}}),(x==null?void 0:x.length)>0&&(0,e.jsxs)(Q.S,{extra:(0,e.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,e.jsx)("a",{style:{fontWeight:600},children:x.length})," ","\u9879 \xA0\xA0"]}),children:[(0,e.jsx)(W.ZP,{onClick:h()(u()().mark(function _(){var t,a;return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:m.ZP.warning("\u529F\u80FD\u5F00\u53D1\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85"),(t=b.current)===null||t===void 0||(a=t.reloadAndRest)===null||a===void 0||a.call(t);case 2:case"end":return p.stop()}},_)})),children:"\u6279\u91CF\u5220\u9664"}),(0,e.jsx)(W.ZP,{type:"primary",onClick:function(){var t,a;m.ZP.warning("\u529F\u80FD\u5F00\u53D1\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85"),(t=b.current)===null||t===void 0||(a=t.reloadAndRest)===null||a===void 0||a.call(t)},children:"\u6279\u91CF\u4FEE\u6539"})]}),(0,e.jsxs)(U.Y,{title:"\u65B0\u5EFA\u7528\u6237",open:i,onOpenChange:g,onFinish:function(){var _=h()(u()().mark(function t(a){var l;return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,te(a);case 2:l=P.sent,l&&(g(!1),b.current&&b.current.reload());case 4:case"end":return P.stop()}},t)}));return function(t){return _.apply(this,arguments)}}(),layout:"horizontal",grid:!0,rowProps:{gutter:16},children:[(0,e.jsx)(o.Z,{rules:[{required:!0,message:"\u7528\u6237ID\u4E3A\u5FC5\u586B\u9879"}],colProps:{span:12},name:"user_id",label:"\u7528\u6237ID"}),(0,e.jsx)(o.Z,{rules:[{required:!0,message:"\u6635\u79F0\u4E3A\u5FC5\u586B\u9879"}],colProps:{span:12},name:"nickname",label:"\u6635\u79F0"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"city",label:"\u57CE\u5E02"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"permission",label:"\u6743\u9650\u7B49\u7EA7"})]}),(s==null?void 0:s.user_id)&&(0,e.jsx)(re.Z,{width:800,open:le,title:"".concat(s==null?void 0:s.user_id,"  \u7684\u8BE6\u7EC6\u4FE1\u606F"),onCancel:function(){B(!1),setTimeout(function(){C(void 0)},300)},footer:null,children:(0,e.jsx)(X.vY,{column:2,request:h()(u()().mark(function _(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:s||{}});case 1:case"end":return a.stop()}},_)})),params:{id:s==null?void 0:s.user_id},columns:F})}),(s==null?void 0:s.user_id)&&(0,e.jsxs)(U.Y,{width:800,open:oe,title:"\u7F16\u8F91 ".concat(s==null?void 0:s.user_id," \u7684\u4FE1\u606F"),onOpenChange:O,onFinish:function(){var _=h()(u()().mark(function t(a){var l,p;return u()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return l=f()(f()({},s),a),E.next=3,se(l);case 3:p=E.sent,p&&(O(!1),C(void 0),b.current&&b.current.reload());case 5:case"end":return E.stop()}},t)}));return function(t){return _.apply(this,arguments)}}(),initialValues:s,grid:!0,rowProps:{gutter:16},layout:"horizontal",children:[(0,e.jsx)(o.Z,{colProps:{span:12},name:"nickname",label:"\u6635\u79F0"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"card",label:"\u5361\u7247"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"sex",label:"\u6027\u522B"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"age",label:"\u5E74\u9F84"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"city",label:"\u57CE\u5E02"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"permission",label:"\u6743\u9650\u7B49\u7EA7"}),(0,e.jsx)(o.Z,{colProps:{span:12},name:"ai_token_record",label:"token\u7EDF\u8BA1"}),(0,e.jsx)(q.Z,{name:"user_portrait",label:"\u7528\u6237\u753B\u50CF"})]},s.user_id)]},"0")})};A.default=ue}}]);
